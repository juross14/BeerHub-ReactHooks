!function(e){function o(t,e){if(!(1<t.originalEvent.touches.length)){t.preventDefault();var o=t.originalEvent.changedTouches[0],s=document.createEvent("MouseEvents");s.initMouseEvent(e,!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(s)}}if(e.support.touch="ontouchend"in document,e.support.touch){var s,t=e.ui.mouse.prototype,i=t._mouseInit,l=t._mouseDestroy;t._touchStart=function(t){!s&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(s=!0,this._touchMoved=!1,o(t,"mouseover"),o(t,"mousemove"),o(t,"mousedown"))},t._touchMove=function(t){s&&(this._touchMoved=!0,o(t,"mousemove"))},t._touchEnd=function(t){s&&(o(t,"mouseup"),o(t,"mouseout"),this._touchMoved||o(t,"click"),s=!1)},t._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),i.call(t)},t._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),l.call(t)}}}(jQuery),function(g){"use strict";var s={single:{startEnd:{start:60,end:170},dividers:{first:90,second:105,third:140}},couple:{startEnd:{start:155,end:305},dividers:{first:180,second:210,third:280}},family:{startEnd:{start:155,end:305},dividers:{first:180,second:210,third:280}},singleParentFamily:{startEnd:{start:155,end:305},dividers:{first:180,second:210,third:280}}},i={noPay:{first:'<span class="calc-result-bold mls-result-first">Good news! You may not need to pay MLS.</span>',second:'<span class="calc-result-normal mls-result-second">If you have hospital cover it\'s still worth checking if you have suitable cover for your needs.</span>',third:""},pay:{first:'<span class="calc-result-normal mls-result-first">Without hospital cover for a full tax year.</span>',second:'<span class="calc-result-bold mls-result-second">You could end up paying at least <span class="calc-result-figure mls-outcome-figure"></span> extra in tax.</span>',secondOver:'<span class="calc-result-bold mls-result-second">You could end up paying <span class="calc-result-figure mls-outcome-figure"></span> extra in tax.</span>',third:'<span class="calc-result-normal mls-result-third">Get hospital cover today by calling 13 19 20.</span>'}};g.fn.incomeSlider=function(d,t,r){t=t||!1;var e=g(this),u=!1,m=g(this).closest(".mls-calculator").find(".mls-income-amount"),p=g(this).closest(".mls-calculator").find(".mls-situation-type").val(),h=g(this).closest(".mls-calculator").find(".mls-calculated-amount"),f=g(this).closest(".mls-calculator").find(".mls-result-block .mls-calc-result-block"),v=g(this).closest(".mls-calculator").find(".mls-calc-get-more-info-button");function y(t,e,o,s,i){"single"===o?t<90||""===t?e.find(".tooltip-income-amount").text("Under $90,000"):s<=t?e.find(".tooltip-income-amount").text("Over $"+s+",000"):e.find(".tooltip-income-amount").text("$"+t+",000"):t<180||""===t?e.find(".tooltip-income-amount").text("Under $180,000"):s<=t?e.find(".tooltip-income-amount").text("Over $"+s+",000"):e.find(".tooltip-income-amount").text("$"+t+",000"),50<i&&""!==t?e.find(".tooltip-income-amount").removeClass("tooltip-income-amount-right").addClass("tooltip-income-amount-left"):e.find(".tooltip-income-amount").addClass("tooltip-income-amount-right").removeClass("tooltip-income-amount-left")}""===p&&(u=!0,p="single"),t&&e.slider("destroy"),e.slider({animate:"fast",value:0,min:d[p].startEnd.start,max:d[p].startEnd.end,step:1,slide:function(t,e){var o,s,i,l,n=g(this).slider("option","min"),a=g(this).slider("option","max"),c=Math.round(100/(a-n)*(e.value-n));u?(t.preventDefault(),g(this).closest(".mls-calculator").find(".mls-select-situation-type-toggle").addClass("not-valid")):(m.val(e.value+"000"),y(e.value,g(this),p,a,c),function(t,e,o,s){var i=o.val();"single"===e||""===i?i<9e4||""===i?s.val("0"):9e4<=i&&i<=105e3?s.val((.01*i).toFixed(2)):106e3<=i&&i<=14e4?s.val((.0125*i).toFixed(2)):14e4<i?s.val((.015*i).toFixed(2)):s.val("0"):i<180?s.val("0"):18e4<=i&&i<=21e4?s.val((.01*i).toFixed(2)):211e3<=i&&i<=28e4?s.val((.0125*i).toFixed(2)):28e4<i?s.val((.015*i).toFixed(2)):s.val("0");0<s.val()&&v.data("get-more-info-mobile-min-trigger")?(v.attr("href",v.data("get-more-info-mobile-url")),v.text(v.data("get-more-info-mobile-label"))):"0"===s.val()&&v.data("get-more-info-mobile-min-trigger")&&(v.attr("href",v.data("get-more-info-desktop-url")),v.text(v.data("get-more-info-desktop-label")))}(g(this),p,m,h),g(this),o=h,s=f,i=r,l=a,l+="000",m.val()===l?(s.empty(),s.append(i.pay.first).append(i.pay.secondOver).append(i.pay.third).find(".mls-result-second .mls-outcome-figure").html("over $"+o.val())):0<o.val()?(s.empty(),s.append(i.pay.first).append(i.pay.second).append(i.pay.third).find(".mls-result-second .mls-outcome-figure").html("$"+o.val())):(s.empty(),s.append(i.noPay.first).append(i.noPay.second).append(i.noPay.third)))},create:function(t,e){var o,s,i,l,n,a,c=g(this).slider("option","min"),r=g(this).slider("option","max");o=t.target,s=d,i=p,l=c,n=r,(a=g(o)).find(".ui-slider-divider-mark").remove(),g.each(s[i].dividers,function(t,e){var o=100/(n-l)*(e-l),s="calc("+o+"% - 1px)";g('<span class="ui-slider-divider-mark"><span class="ui-slider-divider-label">'+e+"k</span></span>").css("left",s).appendTo(a)}),g(this).find(".ui-slider-handle").append('<span class="tooltip-income-amount tooltip-income-amount-right"></span>'),y("",g(this),p,r,0)}})},g(".mls-income-amount-slider").incomeSlider(s,!1,i),g(".mls-select-situation-type-toggle").on("click",function(t){t.preventDefault(),t.stopPropagation(),g(this).closest(".mls-select-situation-dropdown").addClass("expanded")}),g(window).on("click",function(){g(".mls-select-situation-type").find(".mls-select-situation-dropdown").removeClass("expanded")}),g(".mls-select-situation-type .mls-select-situation-dropdown .mls-items label").click(function(t){t.preventDefault();var e=g(this).text(),o=g(this).find('input[name="mls-type"]').attr("value");g(this).closest(".mls-select-situation-dropdown").find(".mls-select-situation-type-toggle .mls-label").text(e),g(this).closest(".mls-calculator").find(".mls-situation-type").val(o),g(this).closest(".mls-select-situation-type").find(".mls-select-situation-type-toggle").removeClass("not-valid"),g(this).closest(".mls-calculator").find(".mls-income-slider .mls-income-amount-slider").incomeSlider(s,!0,i),g(this).closest(".mls-calculator").find(".mls-result-block").removeClass("result-block-info-hidden"),g(this).closest(".mls-select-situation-dropdown").removeClass("expanded")})}(jQuery);